@using Suftnet.Cos.Common;
@using Suftnet.Cos.Extension;

 <form action="@Url.Action("Create", "Faq")" method="post"  id="form">

    <div class="forms">

        <input id="Id" name="Id" type="hidden" value="0" />        

        <div class="clear">
        </div> 

        <div class="grid-12-12">
            <label class="forms-lbl">Title:</label>
            <input type="text" name="Title" id="Title" class="forms-txt validate[required] " maxlength="50" />
        </div>     

        <div class="grid-12-12">
            <label class="forms-lbl">Short Description</label>
            <textarea name="ShortDescription" id="ShortDescription" cols="" rows="" style="height:50px" onkeypress="return imposeMaxLength(event, this, 500);" class="validate[required]"></textarea>
        </div>

        <div class="clear">
        </div>  

        <div class="grid-12-12">
            <input name="Publish" id="Publish" type="checkbox" /> <label class="form-lbl">Publish</label>
        </div>
        
        <div class="grid-12-12">
            <ul style="margin-left:0px; margin-top :0px" class="display01">
                <li class="display01"><span class="etip"><a class="uibutton normal " id="btnSubmit" title="Save Changes">Save Changes</a></span></li>              
            </ul>
        </div>       

    </div> 

</form>    

 <script type="text/javascript">

     $(function () {              
               
        $("#btnSubmit").bind("click", function (e) {

            e.preventDefault();
            e.stopImmediatePropagation();

            if (!suftnet_validation.isValid("form")) {
                return false;
            }

            if ($('#Publish').is(':checked')) {
                $("#Publish").val(true);
            } else {
                $("#Publish").val(false);
            }
           
            js.ajaxPost($("#form").attr("action"), $("#form").serialize()).then(
             function (data)
             {
                 switch (data.flag) {
                     case 1: //// add
                       
                         suftnet_grid.addFaq(data.objrow);
                         break;
                     case 2: //// update

                         suftnet_grid.updateFaq(data.objrow);
                         break;
                     default:;
                 }

                 $("#Id").val(0);
               
                 iuHelper.resetForm("#form");               

             });           
        });

        suftnet_Settings.ClearErrorMessages("#form");
     });

 </script>
