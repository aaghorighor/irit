@using Suftnet.Cos.Common;
@using Suftnet.Cos.Extension

<form action="@Url.Action("Create", "PlanFeature")" method="post" id="Planfeatureform">

    <div class="forms">      

        <input id="Id" name="Id" type="hidden" />
        <input id="PlanId" name="PlanId" type="hidden" />

        <div class="grid-12-12">
            <label class="forms-lbl">Feature: </label>
            @Html.Dropdown("ProductFeatureId", "validate[required]", (int)eSettings.PlanFeature)
        </div> 
        
        <div class="grid-6-12">
            <label class="forms-lbl">Basic: </label>
            @Html.Dropdown("BasicId", "validate[required]", (int)eSettings.PlanStatus)
        </div> 

        <div class="grid-6-12">
            <label class="forms-lbl">Basic Value:</label>
            <input type="text" name="BasicValue" id="BasicValue" class="forms-txt" maxlength="50" />
        </div> 

        <div class="clear"></div>

        <div class="grid-6-12">
            <label class="forms-lbl">Premium: </label>
            @Html.Dropdown("AdvanceId", "validate[required]", (int)eSettings.PlanStatus)
        </div> 

        <div class="grid-6-12">
            <label class="forms-lbl">Premium Value:</label>
            <input type="text" name="PremiumValue" id="PremiumValue" class="forms-txt" maxlength="50" />
        </div> 

        <div class="clear"></div>

        <div class="grid-6-12">
            <label class="forms-lbl">Premium Plus: </label>
            @Html.Dropdown("ProfessionalId", "validate[required]", (int)eSettings.PlanStatus)
        </div>    
        
        <div class="grid-6-12">
            <label class="forms-lbl">PremiumPlus Value:</label>
            <input type="text" name="PremiumPlusValue" id="PremiumPlusValue" class="forms-txt" maxlength="50" />
        </div>
        
        <div class="grid-12-12">
            <label class="forms-lbl">SortOrder: </label>
            <select name="IndexNo" id="IndexNo" class="validate[required]">
                @foreach (var _item in Enumerable.Range(1, 200))
                {
                    <option value="@_item">@_item</option>
                }
            </select>
        </div>      

        <div class="grid-12-12">

            <ul style="margin-left:0px; margin-top :10px" class="uibutton-group">
                <li><span class="etip"><a class="uibutton icon add normal " id="btnSavePlanFeature" title="Save Changes">Save Changes</a></span></li>
                <li><span class="etip"><a class="uibutton icon prev normal " id="btnBack" title="Back">Back</a></span></li>
            </ul>
        </div>          

    </div>      

</form>

<script type="text/javascript">

    $(function ()
    {
        $("#btnBack").click(function ()
        {
            iuHelper.resetForm("#Planfeatureform");

            $("#MainCollapsible").accordion("activate", 0);
        });

        $("#btnSavePlanFeature").bind("click", function (event) {

            event.preventDefault();

            if (!suftnet_validation.isValid("Planfeatureform")) {
                return false;
            }

            js.ajaxPost($("#Planfeatureform").attr("action"), $("#Planfeatureform").serialize()).then(
                function (data) {

                    switch (data.flag) {
                        case 1: //// add

                            suftnet_grid.addPlanFeature(data.objrow);
                            break;
                        case 2: //// update

                            suftnet_grid.updatePlanFeature(data.objrow);

                            break;
                        default:;
                    };
                  
                });

            setTimeout("showSuccess('Success',5000);", 1000);

            $("#Planfeatureform #Id").val(0);

            iuHelper.resetForm("#Planfeatureform");
        });       

    });

</script>
