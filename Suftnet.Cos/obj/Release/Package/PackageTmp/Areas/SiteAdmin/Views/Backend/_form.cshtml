@Styles.Render("~/bundle/uploadifive-css")

<form action="@Url.Action("Create", "Backend")" method="post"  id="Commonform">
 <div class="forms" >      

    <input id="ID" name="ID" type="hidden" value="0" />
    <input id="SettingId" name="SettingId" type="hidden" />
    <input id="ImageUrl" name="ImageUrl" type="hidden" />
        
    <div class="grid-12-12">                
    <label class="forms-lbl">Title:</label>  
    <input type="text" name="Title" id="Title" class="forms-txt validate[required]" maxlength="250" />   
    </div>   

    <div class="grid-12-12">                
    <label class="forms-lbl">Default :</label>     
    <input type="text" name="Code" id="Code" class="forms-txt" maxlength="50" /> 
    </div>   

     <div class="grid-12-12">
         <label class="forms-lbl">Short Description</label>
         <textarea name="Description" id="Description" onkeypress="return imposeMaxLength(event, this, 220);"></textarea>
     </div>
    
     <div class="grid-12-12"> 
     <label class="forms-lbl">SortOrder: </label>
     <select name="Indexno"  id="Indexno" class="validate[required]"> 
         @foreach (var _item in Enumerable.Range(1, 200))
         {            
            <option  value="@_item">@_item</option>            
         }    
     </select>
     </div>     
   
     <div class="grid-12-12">
         <label class="forms-lbl">Upload File :</label>
         <input style="width:50%" type="file" name="file_upload[]" id="file_upload" />
     </div>
    
    <div class="grid-12-12">
       <input name="Active" id="Active"  type="checkbox" value="true" /> <label class="form-lbl">Active</label>       
    </div>       
     
     <div class="grid-12-12">
         <ul style="margin-left:0px; margin-top :0px" class="display01">
             <li class="display01"><span class="etip"><a class="uibutton normal " id="btnSubmitChanges" title="Save Changes">Save Changes</a></span></li>
             <li class="display01"><span class="etip"><a class="uibutton normal " id="btnBack" title="Back">Back</a></span></li>  
         </ul>
     </div>                               
       
    </div>
   
</form>

<div class="hide">
    <span id="uploadUrl" name="uploadUrl" data-uploadUrl="@Url.Action("upload", "Backend" )"></span>
    <span id="buttonText" name="buttonText">Add File</span>
</div>

<script type="text/javascript" >

    $(function () {

        $("#btnSubmitChanges").bind("click", function (event) {

            event.preventDefault();

            if (!suftnet_validation.isValid("Commonform")) {
                return false;
            }

            if ($('#Active').is(':checked')) {
                $("#Active").val(true);
            } else {
                $("#Active").val(false);
            }
            js.ajaxPost($("#Commonform").attr("action"), $("#Commonform").serialize()).then(
            function (data)
            {
                switch (data.flag) {
                    case 1: //// add                                          

                        suftnet_grid.addCommonExtension(data.objrow);
                        break;
                    case 2: //// update 

                        suftnet_grid.updateCommonExtension(data.objrow);                      

                        break;
                    default:;
                }

            });
         
            $("#Active").attr('checked', false)
            $("#ID").val(0);

            iuHelper.resetForm("#Commonform");        
                      
        });
       
        suftnet_upload.init($("#uploadUrl").attr("data-uploadUrl"));
    }); 

</script>

@Scripts.Render("~/bundle/uploadifive")
