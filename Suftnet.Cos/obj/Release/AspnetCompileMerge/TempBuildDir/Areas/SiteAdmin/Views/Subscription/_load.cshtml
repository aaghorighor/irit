@using Suftnet.Cos.Extension;

<table id="tdcommon" class="display">
    <thead>
        <tr>
            <th align="left">Id#</th>
            <th align="left">Sort Order</th>
            <th align="left">Title</th>
            <th align="left">Default</th>
            <th>Active</th>
            <th style="text-align:center">Actions</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script type="text/javascript">

    $(function () {

         js.ajaxGet('@Url.Action("GetAll", "Subscription")', { Id: @ViewContext.RouteData.Values["id"].ToString().ToInt() }).then(
           function (data) {

               suftnet_grid.refreshCommonExtension(data.dataobject);
           });

        $(document).on("click","#DeleteCommon", function (e) {
            e.preventDefault();

            js.confirm('@Url.Action("Delete", "Common")', { Id: $(this).attr("DeleteId") }, $(this).attr("DeleteId"), "#tdcommon").then(
            function (data) {

            });
        });

        $(document).on("click", "#EditCommonLink", function (e) {
            e.preventDefault();

            js.ajaxGet('@Url.Action("Get", "Common")', { Id: $(this).attr("EditId") }).then(
             function (data) {
                 var dataobject = data.dataobject;

                 $("#Title").val(dataobject.Title);
                 $("#Code").val(dataobject.code);
                 $("#Indexno").val(dataobject.Indexno);
                 $("#Description").val(dataobject.Description);
                 $("#ID").val(dataobject.ID);
                 $("#SettingId").val(dataobject.SettingId);
                 $("#ImageUrl").val(dataobject.ImageUrl);
                 $("#Active").attr('checked', dataobject.Active);

             });
        });

        suftnet_Settings.TableInit('#tdcommon', [0,4,5]);

    });

</script>
